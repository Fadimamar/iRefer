#pragma checksum "C:\Users\fmamar\source\repos\iRefer2\iRefer.Client\Pages\Auth\ForgotPassword.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "4c3e6a74471e004a84c0cdeeb592355d6acd43fc"
// <auto-generated/>
#pragma warning disable 1591
namespace iRefer.Client.Pages.Auth
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "C:\Users\fmamar\source\repos\iRefer2\iRefer.Client\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\fmamar\source\repos\iRefer2\iRefer.Client\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\fmamar\source\repos\iRefer2\iRefer.Client\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\fmamar\source\repos\iRefer2\iRefer.Client\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\fmamar\source\repos\iRefer2\iRefer.Client\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\Users\fmamar\source\repos\iRefer2\iRefer.Client\_Imports.razor"
using iRefer.Client;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\Users\fmamar\source\repos\iRefer2\iRefer.Client\_Imports.razor"
using iRefer.Client.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "C:\Users\fmamar\source\repos\iRefer2\iRefer.Client\_Imports.razor"
using iRefer.Shared.Services;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "C:\Users\fmamar\source\repos\iRefer2\iRefer.Client\_Imports.razor"
using Blazored.LocalStorage;

#line default
#line hidden
#nullable disable
#nullable restore
#line 12 "C:\Users\fmamar\source\repos\iRefer2\iRefer.Client\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 13 "C:\Users\fmamar\source\repos\iRefer2\iRefer.Client\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 14 "C:\Users\fmamar\source\repos\iRefer2\iRefer.Client\_Imports.razor"
using Blazor.FileReader;

#line default
#line hidden
#nullable disable
#nullable restore
#line 15 "C:\Users\fmamar\source\repos\iRefer2\iRefer.Client\_Imports.razor"
using Radzen;

#line default
#line hidden
#nullable disable
#nullable restore
#line 16 "C:\Users\fmamar\source\repos\iRefer2\iRefer.Client\_Imports.razor"
using Radzen.Blazor;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\fmamar\source\repos\iRefer2\iRefer.Client\Pages\Auth\ForgotPassword.razor"
using iRefer.Shared.Models;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.LayoutAttribute(typeof(ForgotLauout))]
    [Microsoft.AspNetCore.Components.RouteAttribute("/auth/forgot")]
    public partial class ForgotPassword : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.OpenElement(0, "div");
            __builder.AddAttribute(1, "class", "row");
            __builder.AddMarkupContent(2, "\r\n    ");
            __builder.OpenElement(3, "div");
            __builder.AddAttribute(4, "class", "col-12");
            __builder.AddMarkupContent(5, "\r\n        ");
            __builder.AddMarkupContent(6, "<h2>To ensure the security of your account, an email would be sent to the email address provided in here. Please click on the link in the recevied email to reset your account</h2>\r\n        ");
            __builder.OpenComponent<Microsoft.AspNetCore.Components.Forms.EditForm>(7);
            __builder.AddAttribute(8, "Model", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Object>(
#nullable restore
#line 11 "C:\Users\fmamar\source\repos\iRefer2\iRefer.Client\Pages\Auth\ForgotPassword.razor"
                         model

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(9, "OnValidSubmit", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<Microsoft.AspNetCore.Components.Forms.EditContext>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Forms.EditContext>(this, 
#nullable restore
#line 11 "C:\Users\fmamar\source\repos\iRefer2\iRefer.Client\Pages\Auth\ForgotPassword.razor"
                                               Forgot

#line default
#line hidden
#nullable disable
            )));
            __builder.AddAttribute(10, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment<Microsoft.AspNetCore.Components.Forms.EditContext>)((context) => (__builder2) => {
                __builder2.AddMarkupContent(11, "\r\n            ");
                __builder2.OpenComponent<Radzen.Blazor.RadzenCard>(12);
                __builder2.AddAttribute(13, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder3) => {
                    __builder3.AddMarkupContent(14, "\r\n                ");
                    __builder3.OpenComponent<iRefer.Client.Shared.AlertMessage>(15);
                    __builder3.AddAttribute(16, "Message", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#nullable restore
#line 13 "C:\Users\fmamar\source\repos\iRefer2\iRefer.Client\Pages\Auth\ForgotPassword.razor"
                                        message

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(17, "MessageType", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<iRefer.Client.Models.AlertMessageType>(
#nullable restore
#line 13 "C:\Users\fmamar\source\repos\iRefer2\iRefer.Client\Pages\Auth\ForgotPassword.razor"
                                                               messageType

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(18, "\r\n                ");
                    __builder3.OpenComponent<Microsoft.AspNetCore.Components.Forms.DataAnnotationsValidator>(19);
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(20, "\r\n                ");
                    __builder3.OpenComponent<Microsoft.AspNetCore.Components.Forms.ValidationSummary>(21);
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(22, "\r\n\r\n          \r\n\r\n                ");
                    __builder3.AddMarkupContent(23, "<label>Email</label>\r\n                ");
                    __builder3.OpenComponent<Radzen.Blazor.RadzenTextBox>(24);
                    __builder3.AddAttribute(25, "Value", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.String>(
#nullable restore
#line 20 "C:\Users\fmamar\source\repos\iRefer2\iRefer.Client\Pages\Auth\ForgotPassword.razor"
                                            model.Email

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(26, "ValueChanged", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Microsoft.AspNetCore.Components.EventCallback<System.String>>(Microsoft.AspNetCore.Components.EventCallback.Factory.Create<System.String>(this, Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.CreateInferredEventCallback(this, __value => model.Email = __value, model.Email))));
                    __builder3.AddAttribute(27, "ValueExpression", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Linq.Expressions.Expression<System.Func<System.String>>>(() => model.Email));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(28, "\r\n\r\n               \r\n                \r\n                <hr>\r\n                ");
                    __builder3.OpenComponent<Radzen.Blazor.RadzenButton>(29);
                    __builder3.AddAttribute(30, "ButtonType", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Radzen.ButtonType>(
#nullable restore
#line 25 "C:\Users\fmamar\source\repos\iRefer2\iRefer.Client\Pages\Auth\ForgotPassword.razor"
                                          Radzen.ButtonType.Submit

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(31, "Text", "Send me a validation email");
                    __builder3.AddAttribute(32, "ButtonStyle", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<Radzen.ButtonStyle>(
#nullable restore
#line 26 "C:\Users\fmamar\source\repos\iRefer2\iRefer.Client\Pages\Auth\ForgotPassword.razor"
                                           Radzen.ButtonStyle.Primary

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.AddAttribute(33, "class", "btn-block mr-2");
                    __builder3.AddAttribute(34, "Disabled", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 27 "C:\Users\fmamar\source\repos\iRefer2\iRefer.Client\Pages\Auth\ForgotPassword.razor"
                                        isBusy

#line default
#line hidden
#nullable disable
                    ));
                    __builder3.CloseComponent();
                    __builder3.AddMarkupContent(35, "\r\n                \r\n            ");
                }
                ));
                __builder2.CloseComponent();
                __builder2.AddMarkupContent(36, "\r\n        ");
            }
            ));
            __builder.CloseComponent();
            __builder.AddMarkupContent(37, "\r\n    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(38, "\r\n");
            __builder.CloseElement();
        }
        #pragma warning restore 1998
#nullable restore
#line 35 "C:\Users\fmamar\source\repos\iRefer2\iRefer.Client\Pages\Auth\ForgotPassword.razor"
       
    ForogtPasswordRequest model=new ForogtPasswordRequest();

    bool isBusy = false;
    string message = string.Empty;
    Models.AlertMessageType messageType = Models.AlertMessageType.Success;

    public async Task Forgot()
    {
        isBusy = true;
        var result = await authService.ForgotPasswordAsync(model.Email);
        if(result.IsSuccess)
        {
            message = result.Message;
            messageType = Models.AlertMessageType.Success;
        }
        else
        {
            message = result.Errors.FirstOrDefault() ?? result.Message;
            messageType = Models.AlertMessageType.Error;
        }
        isBusy = false;
    }

    void GoToLogin()
    {
        navigationManager.NavigateTo("/auth/login");
    }

#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private NavigationManager navigationManager { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private AuthenticationService authService { get; set; }
    }
}
#pragma warning restore 1591
